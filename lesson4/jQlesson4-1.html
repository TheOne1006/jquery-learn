<html>
<head>
	<title>jQuery源码学习 - 第三部分 -line 2880</title>
	<meta content="text/html;charset=utf-8" http-equiv="content-type">
	<link rel="stylesheet" type="text/css" href="../bootcss/css/bootstrap.css">
	<script type="text/javascript" src='../jquery.js'></script>
</head>
<body>
	<div class="container">
		<div class="page-header">
			<h1>jQuery.Callbacks <small>jQuery回调对象,对函数的统一管理</small><span class="label label-danger">Improtant</span></h1>
		<div>

		<div class="pannel pannel-default">
			<div class="pannel-heding"> </div>
			<div class="pennel-body">

			</div>



			<table class="table">
				<thead>
					jQuer.Callback
					<tr>
						<th>
							jQuery.Callbacks的属性/方法
						</th>
						<th>
							功能
						</th>
						<th>
							案例
						</th>
					</tr>
				</thead>
				<tbody>
					<tr class="active">
						<td>cb.add()/cb.fire() </td>
						<td> 依次执行函数,类似与事件绑定 </td>
						<td>
							<script>
								function aaa (){
									console.log('1');
								}
								function bbb () {
									console.log('2');
								}
								//创建一个 回调对象
								var cb = $.Callbacks();
								// cb 的方法 add
								cb.add(aaa);
								cb.add(bbb);
								cb.fire();//  log: 1 , 2
							</script>
							
						</td>
					</tr>

					<tr class="active">
						<td>cb.add()/cb.fire() </td>
						<td> 对不同作用域下的函数管理 </td>
						<td>
							<script>
								var cb2 = $.Callbacks();
								function ccc (){
									console.log('ccc');
								}
								cb2.add(ccc);
								(function(){
									// 匿名函数子执行,无法在函数外获得 ddd
									function ddd () {
										console.log('ddd');
									}
									cb2.add(ddd);

								})();
								
								cb2.fire();//  log: cccc , ddd
								//没 once
								cb2.fire();
							</script>
							
						</td>
					</tr>

					<tr class="active">
						<td>$.Callbacks('once') </td>
						<td> Callbacks参数 </td>
						<td>
							<script>
							// fire只触发一次
								var cb3 = $.Callbacks('once');
								function ccc (){
									console.log('ccc-once');
								}
								cb3.add(ccc);
								(function(){
									// 匿名函数子执行,无法在函数外获得 ddd
									function ddd () {
										console.log('ddd-once');
									}
									cb3.add(ddd);

								})();
								
								cb3.fire();//  log: cccc , ddd
								cb3.fire(); // null
							</script>
							
						</td>
					</tr>

					<tr class="active">
						<td>$.Callbacks('memory') </td>
						<td> Callbacks参数 </td>
						<td>
							<script>
							// memory
								var cb4 = $.Callbacks('memory');
								function e (){
									console.log('e');
								}
								function f() {
									console.log('f');
								}
								cb4.add(e);
								cb4.fire(); //正常情况下 log: e memory: e,f
								cb4.add(f);

							</script>
							
						</td>
					</tr>



				</tbody>
			</table>


		</div>



		<div class='row'>
			<div class="col-md-12">
				<div class="progress">
				  <div class="progress-bar" role="progressbar" aria-valuenow="32.6" aria-valuemin="0" aria-valuemax="100" style="width: 32.6%;">
				    <span style='min-width: 20px;color:#ccc'>32.6% 进度 代码共8830行/2880行</span>
				  </div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>